# L3 switching

> L3 스위칭이란?
> 
- 네트워크에서 라우팅과 스위칭을 결합한 기술로, L3 라우터와 L2 스위치의 기능을 단일 장비에서 제공하는 것

## L3 스위치

- L3 스위치는 3계층 (네트워크 계층) 장비인 라우터에서 지원하는 라우터 기능을 지원함
- 일반적으로 라우터는 소프트웨어로 경로 설정 및 데이터 전달을 수행하는 반면에, L3 스위치는 오직 하드웨어 기반으로 라우팅시킴
- L3 스위치는 라우터 만큼의 다양한 기능을 지원하지는 않지만, 우수한 처리 속도, 낮은 지연, 상대적으로 저렴한 가격 때문에 많이 사용됨
- L2 스위치의 각 포트에는 IP 주소를 할당할 수 없지만 L3 스위치는 각 포트에 IP 주소를 부여할 수 있는데 이러한 포트를 L3 인터페이스인 라우티드(Routed) 포트라고 함

## L3 스위칭

- 라우티드 포트로 연결된 스위치 네트워크에서는 STP가 동작되지 않아 STP가 가진 문제점을 모두 피할 수 있음
- 네트워크의  동작 상태를 구성도 만으로도 판단이 가능해서 유지보수 및 장애 처리가 용이함
- 부하분산이 효과적으로 수행됨
- 네트워크 안정화까지 도달하는 수렴시간이 빠름

## L3 스위치와 라우팅

- L3 스위치로 구성된 네트워크에서는 RIP와 같은 라우팅 프로토콜 사용 가능
- L3 스위치에서 라우팅 프로토콜을 설정하는 방법은 라우터와 동일
- 스위치 네트워크에서 사용 가틍한 동적 라우팅 방식으로 RIP, EIGRP. OSPF와 같은 라우팅 프로토콜이 있음
- 정적 라우팅 방식인 디폴트 경로, 정적 경로, 유동 정적 경로 방식도 사용 가능

## RIP를 이용한 L3 스위칭

- RIP를 이용하여 L3 스위치로 구성된 이중화된 스위치 네트워크 효과적 관리 가능
- RIP는 거리 벡터 방식을 채용하고 있는 표준 프로토콜이며, 인접하고 있는 L3 장비와 경로 정보를 매 30초마다 주기적으로 주고 받으며 목적지까지 갈 수 있는 최적 경로 정보 관리
- RIP는 버전 1, 2가 있으며, 서브넷 정보의 효과적인 처리를 원할 경우 버전 2 사용
- RIP는 알고리즘이 간단하고 이해하기 쉬운 장점이 있으며 소규모 네트워크에서 주로 사용

> L3 스위치 네트워크 구성
> 
- 모든 스위치를 L3스위치로 구성
- L2와 L3 스위치가 혼합된 구성

- L3스위치 네트워크 구성을 위한 명령어
    - ip routing 명령어
    - no switchport 명령어
    - router rip 명령어