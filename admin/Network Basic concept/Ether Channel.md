# Ether channel

> 이더채널이란?
> 
- 네트워크에서 여러 개의 이더넷 링크를 하나의 논리적인 링크로 결합하는 기술

## 이더채널 개념

- 스위치간 속도 향상을 위해 링크를 추가 연결하면 루프 구조로 인해 STP가 실행되어 링크 중 하나가 자동으로 차단
- 속도 향상을 위해서는 차단된 링크가 없는 구조가 되어야함
- 이더채널은 여러개의 링크를 하나의 링크처럼 동작시키는것
- *하나의 링크로 합쳐서 처리하면 링크 내부의 루프 구조가 없어져서 STP로 인해 차단되는 포트가 없으며, 속도 향상의 효과가 있음   (100Mbps 링크 2개를 연결하면 200Mbps의 속도를 얻을 수 있음)*

## 이더채널 특징

- 이더채널은 시스코에서 개발한 기술로 2~8개의 이더넷(Ethernet) 인터페이스를 모아 하나의 새로운 가상 이더넷 인터페이스를 만들어 대역폭을 늘릴 수도 있고, 부하분산을 구현할 수도 있음
- STP는 이더채널을 하나의 포트로 간주함
- 시스코 이외의 장비회사에서는 LINK Aggregation 이라고 함
- 이더채널은 전이중(Full) 모드 상태에서 최대 1600Mbps 나 16Gbps까지 대역폭 확장 가능
- 이더채널 내에서 하나의 링크에 장애가 발생하면, 장애가 발생한 링크를 통해 전송되던 데이터들은 이더채널 그룹 내의 다른 링크를 통해 전달됨
- 이더채널은 2계층과 3계층 인터페이스로 각각 동작시킬 수 있으며 액세스 포트와 트렁크 포트로 동작가능

---

## 이더채널 프로토콜

- 이더채널을 구성할 때 사용하는 프로토콜 : 시스코의 PAgP(Port Aggregation Protocol), IEEE의 LACP(Link Aggregation Control Protocol)
- PAgP와 LACP는 이더채널의 생성, 유지 및 협상 기능 규정
- 시스코 스위치 간에는 PAgP를 사용, 타 스위치 간에는 LACP 사용

## 이더채널 설정 절차

- 스위치에서 이더채널로 묶을 인터페이스 포트들을 지정
- 필요하다면 이더채널 프로토콜을 PAgp 또는 LACP로 지정
- 이더채널 그룹 번호와 협상 모드 지정
- 필요하다면 이더채널로 생성된 Port-channel 인터페이스 포트에서 Ip주소 설정 또는 포트 종류 수정
- 이더채널이 정상적으로 생성되었는지 상태 정보 확인

---

## 이더 채널 설정 명령어

- interface range 명령어
- channel-protocol 명령어
- channel-group 명령어
- int port-channel 명령어
- show etherchannel summary 명령어